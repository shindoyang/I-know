参考paxos算法，这个讲得比较易懂：https://www.douban.com/note/208430424/
另外ZAB其实算是paxos算法的简化实现。

![ZOOKEEPER理论](images/ZOOKEEPER理论.jpg)