## 一、classloader类加载器

### 1、类加载过程

 ![image-20210301161307710](images/image-20210301161307710.png)

* 加载

> 将类的.class文件中的二进制数据读入到内存中，将其放在运行时数据区的方法区内，然后在内存
> 上创建一个java.lang.Class 对象用来封装类在方法区内的数据结构作为这个类的各种数据的访
> 问入口。

* 验证

> 主要是为了确保class文件中的字节流包含的信息是否符合当前JVM的要求，且不会危害JVM自身安
> 全，比如校验文件格式、是否是cafe baby魔数、字节码验证等等。

* 准备

> 为类变量分配内存并设置类变量（是被static修饰的变量，变量不是常量，所以不是final的，就是
> static的）初始值的阶段。这些变量所使用的内存在方法区中进行分配。比如
>
> > private static 1 int age = 26;
>
> 类变量age会在准备阶段过后为 其分配四个（int四个字节）字节的空间，并且设置初始值为0，而
> 不是26。
> 若是final的，则在编译期就会设置上最终值。

* 解析

> JVM会在此阶段把类的二进制数据中的符号引用替换为直接引用。

* 初始化

> 初始化阶段是执行类构造器<clinit>() 方法的过程，到了初始化阶段，才真正开始执行类定义的
> Java程序代码（或者说字节码 ）。比如准备阶段的那个age初始值是0，到这一步就设置为26。

* 使用

> 对象都出来了，业务系统直接调用阶段。

* 卸载

> 用完了，可以被GC回收了。

