源码构建：spring 5.2.9 

gradle：5.6.2

---

spring   ->  springboot  ->  springcloud

spring 是一个框架，也是一个生态，有强大的扩展性，支持使用者为所欲为

spring 最主要是一个IOC容器 -->管理Bean对象

---

spring 主要包含两大技术：IOC 、AOP

IOC  -> IOC控制反转 --> DI依赖注入

IOC控制反转 和  DI依赖注入，是不是一个意思。

答：严格来说有点一样，控制反转主要是思想层面，依赖注入则是这个思想的实现手段。

---

spring 初始化Bean 对象的主要流程：

读取xml -->  解析xml --> 封装BeanDefinition -->  实例化Bean对象 --> 放到容器中 --> 从容器中获取

---

spring 存储对象的容器  -->  map  --> 

k:String  v:Object

k:Class  v:Object

k:String  v:ObjectFactory

k:String  v:BeanDefinition

---

画图说明整个BeanFactory控制下的Bean对象的生命周期。

---

BeanFactory  和 FactoryBean 的区别：

相同点，两者都是用来创建Bean对象的

区别，使用BeanFactory创建Bean对象，要严格遵守规范流程创建

但是FactoryBean创建对象比较自由，可直接创建。

注意：FactoryBean创建的对象不是在容器启动完之后创建的，而是在实际调用获取Bean对象的时候，才去创建对象。

---

创建对象分为：

1. 实例化：在堆中开辟一块空间，对象的属性值都是默认值
2. 初始化：给属性设置值，填充属性，执行初始化方法：init-method

---

通过反射获取对象的方法：

Class.forName(完全限定名);

对象的.getClass();

类名.class();

创建对象：

Constructor cotr = clazz.getConstructor();

Object obj = cort.newInstance();







接口：

BeanFactory

Aware

BeanFakctoryPostProcessor

BeanPostProcessor

AutoProxy

BeanDefinition





spring 使用：

application.xml 配置

```xml
<beans>
	<bean id=? class=? abstract init-method scope  dependence ....>
        <property name=? value=?/>
        <property name=? ref=?/>
    </bean>
 	<bean id=? class=? abstract init-method scope  dependence ....>
		<constructor-arg name=? value=?/>
         <constructor-arg name=? ref=?/>
    </bean>   
</beans>
```

代码引用

```java
ApplicationContext context = new ClassPathXmlApplicationContext("application.xml");
Person person = (Person)context.getBean("person");
//或者  Person person = context.getBean(Person.class);
String name = person.getName();
```

这个就是IOC的入口，怎么debug，就是你从哪里开始的，哪里的就是入口了。



