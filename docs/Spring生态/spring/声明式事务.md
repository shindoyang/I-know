声明式事务的注解：

打开@Transactional注解源码，看到其标注的属性：

* Propagation 传播特性
* Isolation 隔离型-和数据库的隔离性一致
* readOnly 只读，在多次读的事务中，如果要防止ABA的问题，有使用场景
* rollbackFor
* rollbackForClassName
* notRollbackFor
* notRollbackForClassName

PlatformTransactionManager



Ctrl + h :Intellij IDEA 查看类的继承关系快捷键



#### 事务的传播特性



![截屏2020-09-05 上午8.19.09](声明式事务.assets/截屏2020-09-05 上午8.19.09.png)

七种传播特性：

1. REQUIRED：如果有事务，就在当前的事务内运行，如果没有事务，则新建一个事务。

2. REQUIRES_NEW：必须使用新的事务，并在自己的事务内运行。如果已经有事务，则把它挂起。
3. SOPPORTS：当前有事务，就在事务内运行，否则可以不运行在事务中。
4. NOT_SUPPORTS：当前方法不应该运行在事务中，如果有事务，则挂起。
5. NEVER：当前方法不应该运行在事务中，如果有事务，则抛出异常
6. MANDATORY：当前方法必须运行在事务中，如果没有事务，则抛出异常。
7. NESTED：如果有事务，则在当前事务的嵌套事务中运行，否则，就启动一个新的事务，并在自己的事务内运行。

事务传播特性验证例子:**<重点>**

